<?xml version="1.0" encoding="UTF-8"?>
<c:CabsfMessage
	xmlns:c="http://www.opensimulationsystems.org/cabsf/schemas/CabsfMessage/0.2"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

	<!-- Not Currently Supported, to be refactored -->
	<c:MessageIdentifiers>
		<c:Simulation>
			<!-- Required by CABSF, but optional in the configuration -->
			<c:SimulationId />
			<!-- Optional -->
			<c:SimulationVersionId />
			<!-- Optional -->
			<c:SimulationSpecificationConfigurationId>
			</c:SimulationSpecificationConfigurationId>
		</c:Simulation>
		<c:CommonAgentBasedSimulationFramework>
			<!-- Required by CABSF, but optional in the configuration -->
			<c:SimulationRunGroupId />
			<!--THIS ELEMENT IS ALWAYS GLOBALLY UNIQUE (GENERATED BY CABSF), FOR A
				SIMULATION RUN GROUP. THIS PLUS THE SIMULATION RUN Id IS GUARANTEED TO
				BE
				GLOBALLY UNIQUE FOR A ANY GIVEN SIMULATION RUN INSTANCE -->
			<c:SimulationRunGroupInstanceId>
			</c:SimulationRunGroupInstanceId>
			<!-- Required by CABSF, but optional in the configuration -->
			<c:SimulationRunId />
			<!-- Optional -->
			<c:UserDefinedConfigurations />
		</c:CommonAgentBasedSimulationFramework>
	</c:MessageIdentifiers>

	<c:Status />

	<!-- All agent models are uniquely identified by 3-Part Id: Distributed
		System Id, Software Agent Id, and agent model id in both the simulation
		runtime and the distributed system(s)/MASs. -->
	<c:MessageSender>
		<!-- Element Value = SENDER -->
		<!-- Either -->
		<c:SimulationAdministrator></c:SimulationAdministrator>
		<!-- OR -->
		<!-- Optional attributes -->
		<c:SimulationSystem simulationsystemname=""
			simulationsystemid="" distributedsystemid="" softwareagentid=""
			agentmodelid="" />
		<!-- OR... -->
		<!-- Optional attributes -->
		<c:DistributedSystem distributedsystemname=""
			distributedsystemid="" softwareagentid="" agentmodelid="">
		</c:DistributedSystem>
	</c:MessageSender>

	<!-- Either messages from simulation runtime/simulation agents to corresponding
		distributed system
		software agents/agent models, or vice versa. The messages are routed using
		the distributed system id, software agent id, and agent model id. When
		messages
		are going to the simulation runtime, the "DistributedSystem" and "SoftwareAgent"
		sections
		below are just used by CABSF to partially identify the simulation agents
		(along with AgentModel id).
		In this case, the message isn't actually going to a distributed system
		or a software agent running outside of the simulation runtime. -->
	<c:BidirectionalMessages>
		<!-- DistributedSystem id = Identifier part 1/3 of an Agent Model -->
		<c:DistributedSystem name="" distributedsystemid="">
			<c:ControlMessages>
				<!-- START_SIMULATION or END_SIMULATION -->
				<c:Command></c:Command>
			</c:ControlMessages>

			<!-- In the distributed system(s), the software agents (
				separate threads or processes) each execute 1 to many (usually just
				1) agent models for the simulation. The corresponding agents/agent models/simulation
				agents in the CABSF-enabled simulation runtime utilize a software agent
				id identifier,
			-->
			<c:SoftwareAgents>
				<!-- SoftwareAgent id = Identifier part 2/3 of an Agent Model -->
				<c:SoftwareAgent softwareagentid="">
					<c:ControlMessages>
						<c:Command></c:Command>
					</c:ControlMessages>

					<!-- At the ABM model level, these "agent models" what are usually
						just called "agents" in ABM. In CABSF, an agent model element below
						can refer to either:

						1) in the ABM simulation runtime/ABM toolkits, an "agent",
						or more specifically in CABSF terminology, a "simulation agent".
						"Simulation agent" = The part of an ABM agent runs in a simulation
						runtime.
						OR, an "agent model" element below can refer to:
						2) For a software agent running in a multi-agent system/MAS or an
						individual software agent or program that is not part of a MAS, that
						is connected to a separate
						simulation runtime using CABSF, "agent model" is the logical part
						of the software agent/program that corresponds to
						a simulation agent in a simulation runtime. It is the distributed
						part of an ABM agent.

						Whether an AgentModel below is intended to be sent to 1 or 2 depends
						on
						the direction of the message. -->
					<c:AgentModels>
						<!-- AgentModel id = Identifier part 3/3 of an Agent Model -->
						<!-- To be sent to this Agent Model. Distributed system id and software
							agent id are in ancestor elements. -->
						<c:AgentModel name="" agentmodelid="">
							<c:AgentModelPositions>
								<!-- If Grouping Agent Models Positions by Agent Model. Which one
									used is simulation-specific. -->
								<c:ByAgentModel>
									<!-- Usually the target AgentModel (MessageToAgentModel) above
										receives
										information below about
										itself (i.e. the distributed agent model messages the corresponding
										simulation
										agent or vice versa, but the message could be about a different
										agent. That agent that the message is about, is identified below
										using the
										three-part identifier.
										a different agent, but it is sent to the target agent above. -->
									<c:AgentModelPosition distributedsystemid=""
										softwareagentid="" agentmodelid="">
										<!-- Cell location in a Cartesian coordinate system -->
										<!-- Usually Either -->
										<c:GridCell x="" y="" z="" />
										<!-- Decimal location in Cartesian coordinate system -->
										<!-- Usually OR. By GrindPoint instead of by GridCell -->
										<c:GridPoint x="" y="" z="" />
									</c:AgentModelPosition>
								</c:ByAgentModel>

								<!-- If Grouping Agent Models Positions by Position. Which one used
									is simulation-specific. -->
								<c:ByPosition>
									<!-- Usually Either -->
									<c:GridCell x="" y="" z="">
										<c:AgentModelPosition
											distributedsystemid="" softwareagentid="" agentmodelid="" />
									</c:GridCell>

									<!-- Usually OR. By GrindPoint instead of by GridCell -->
									<c:GridPoint x="" y="" z="">
										<c:AgentModelPosition
											distributedsystemid="" softwareagentid="" agentmodelid="" />
									</c:GridPoint>
								</c:ByPosition>
							</c:AgentModelPositions>
						</c:AgentModel>

						<!-- Not Currently Supported -->
						<!-- To all agent models identified by this AgentModel -->
						<c:ToAllAgentModels> <!-- under the software agent id above -->
							<!-- To all Agent Models in this Distributed System/Software Agent -->
						</c:ToAllAgentModels>

					</c:AgentModels>
				</c:SoftwareAgent>

				<!-- Not Currently Supported -->
				<!-- To all software agents in this distributed system, or agent models
					identified under this distributed system/software agent. -->
				<c:ToAllSoftwareAgents>
					<c:ControlMessages>
						<!-- START_SIMULATION or END_SIMULATION -->
						<c:Command></c:Command>
					</c:ControlMessages>
				</c:ToAllSoftwareAgents>

			</c:SoftwareAgents>
		</c:DistributedSystem>
	</c:BidirectionalMessages>
</c:CabsfMessage>