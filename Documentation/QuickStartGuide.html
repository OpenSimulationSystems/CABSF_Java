<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>The Common Simulation Framework Installation Instructions</title></head>
<body>
<h1><span style="font-weight: bold;">The Common
Simulation Framework - Quick Start Tutorial</span></h1>
Author: <a href="mailto:jcald1@NOSPAMREMOVEgmail">Jorge Calderon</a><br>
Release 0.1.TBD<br>
1/31/2015<br>
<h2>Introduction</h2>
The Common Simulation Framework has several goals:<br>
<ol>
<li>Create
a common interface to support Agent-based Modeling and Simulation
tools such as Repast Simphony to communicate with agents that exist
outside of the simulation runtime. These distributed agents could be
software agents&nbsp;that are part of a multi-agent system such as <a href="http://jade.tilab.com/">JADE</a>.
&nbsp;In the future it is expected that other tools, both on the
software
agent and the ABM-simulation toolkit side, will be supported..
&nbsp;For
example, the same JADE agents could be used in Repast, <a href="http://cs.gmu.edu/%7Eeclab/projects/mason/">MASON</a>,
or <a href="https://ccl.northwestern.edu/netlogo/">NetLogo</a>
simulations.</li>
<li>In the immediate release, support integration of the JADE
multi-agent system with Repast Simphony.</li>
<li>Support the creation of competitive
simulations/programming games for teaching and research. &nbsp;For
example,
participants can create their own JADE agents that participate in a
Repast/Common Simulation Framework-administered Prisoner's Dilemma
simulation. &nbsp;The framework would handle the pairing of
participants and
scorekeeping. &nbsp;In many ways, the Common Simulation Framework
acts as a game server in a video game, protecting the integrity of the
simulation by programmatically limiting access to the global
environment by individual agents.</li>
</ol>
<h2>Requirements</h2>
<ol>
<li><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK
1.7+</a> for the Common Simulation Framework/Repast, and JDK1.4+ for the JADE agents.</li>
<li>Windows, MacOSX, or *nix. &nbsp;There are some
scripts/batch files
for starting the simulation, that have been created only for Windows so
far. &nbsp;Each contains a small number of simple commands, which
could
be be easily copied and pasted into a Linux/MacOS shell.</li>
</ol>
<h2>Installation</h2>
It's essential that all of the steps in the <a href="../Install-ReadMe.html">Installation Instructions</a>
be followed. The installation instructions include many manual steps
and instructions to ensure that the framework has been properly
installed. &nbsp;<br>
<h2>Basic Concepts - Agent-based Modeling and Simulation</h2>
It is recommended that the user starts with learning the basic concepts
of Agent-based modeling and simulation. &nbsp;A <a href="http://www.informs-sim.org/wsc09papers/009.pdf">good
introductory guide is here</a>. &nbsp;Creating simulations
for the Common Simulation Framework will require knowledge of Repast
Simphony. &nbsp;In the future, other simulation toolkits may be
supported. &nbsp;The <a href="http://repast.sourceforge.net/docs.php#">Repast Java
Getting Started Guide on this page </a>is a recommended starting
place.<br>
<h2>Basic Concepts - The Common Simulation Framework</h2>
There is much overlap in the areas of Agent-based modeling and
simulation and Multi-agent Systems. &nbsp;In an effort to prevent
misunderstandings of terms, we define a common terminology here used
throughout the common simulation framework.<br>
<br>
<span style="font-style: italic;">How does the Common Simulation Framework define and use the term "agent"?</span><br>
&nbsp;&nbsp;&nbsp; In ABM, agents are autonomous actors in
a model. &nbsp;In multi-agent systems, the term "agents" refers to
autonomous <span style="font-style: italic;">softare
agents</span>. &nbsp;From a multi-agent systems standpoint,
the agents in Repast Simphony are not truly autonomous <span style="font-style: italic;">software agents </span>as
they
are not autonomous at the software implementation level, even though
they represent autonomous entitities in an ABM model. &nbsp; JADE
agents, however, are truly
autonomous software agents. &nbsp;They send out messages at will,
receive messages, and can even decide not not respond to messages
received.
&nbsp;They execute in their own threads. &nbsp;They are
subservient only to the administrative agents that are conctrolled by
the MAS administrator. &nbsp;Sometimes Repast has been incorrectly
refered to as multi-agent system, even in the literature, and it is
important that we be precise here in our terminology as we are
attempting to combine both
types of systems and wish to avoid confusion.<br>
<br>
<span style="font-style: italic;">Terms in the Common
Simulation Framework</span><br>
In the Common Simulation Framework, we try to always specify what type
of agent we are talking about. &nbsp;We use the term "<span style="font-style: italic; font-weight: bold;">simulation
agent"</span> to mean an agent that runs in the simulation
runtime, such as Repast agents. &nbsp;Outside of the simulation runtime, we have one to
many<span style="font-weight: bold;"> </span><span style="font-style: italic;"><span style="font-weight: bold;">distributed systems</span>.</span>
&nbsp;Distributed systems can be thought of as synonomous with
Multi-agent systems (MAS). &nbsp;The distinction in terms here is due to
the fact that we are in the future striving to&nbsp;support
distributed systems that are not necessarily a MAS, in addition to MASs like JADE.
&nbsp;Each distributed system/MAS may contain one to many <span style="font-style: italic;"><span style="font-weight: bold;">distributed autonomous software
agents </span></span>or <span style="font-weight: bold;"><span style="font-style: italic;">distributed autonomous agents</span></span> for short<span style="font-style: italic;"><span style="font-weight: bold;"></span>. &nbsp;</span>In JADE, these would be the
individual JADE agents. &nbsp;We call them "distributed" even if
they are running on the same host as the Repast runtime. They are
distributed from the perspective of the simulation runtime (they are
running as separate non-Repast processes). &nbsp;The reason we use
the term "distributed autonomous (software) agent" instead of "JADE
agent" is that the CSF will be supporting other types of
MASs/distributed systems in the future besides JADE, and so we prefer to use a
standard term from the beginning.<br>
<br>
Typically, a distributed autonomous software agent or JADE agent would
correspond to one (simulation) agent on the Repast side. &nbsp;For
example, in a Prisoner's Dilemma, a participants creates a JADE agent
to represent a Human prisoner. &nbsp;Repast doesn't understand JADE
agent terminology and so there is a representation of the JADE agent,
implemented as a Human Repast (simulation) agent object instance.
&nbsp;This Repast agent object instance must receive its
instructions from the distributed JADE agent. &nbsp;So in this case there is a
one-to-one relationship between the Repast agent and the JADE agent.<br>
<br>
However, we are building the Common Simulation Framework to be more
robust than this. &nbsp;Instead of a competitive
simulation/programming game such as Prisoner's Dilemma, let's say that
we wish to run a very large distributed ABM simulation that's not a
programming game and involves 100,000 simulation agents.
&nbsp;Creating 100,000 JADE agents would be too resource-intensive
as each runs in a thread. &nbsp;Instead, we may wish each JADE
agent to run or contain many agents corresponding to simulations agents
in the Repast/ABM. &nbsp;Therefore, we use the term "agent model"
or "distributed agent model" to precisely identify the part of the
distributed autonomous agent/JADE agent that corresponds to a single
simulation agent in the ABM.<br>
<br>
From this perspective, a distributed autonomous software agent is
simply container for one to many agent models (usually it is just one
agent model). &nbsp;The distributed autononmous agent itself is not
of importance to the ABM/Common Simulation Framework, other than being
necessary for routing of the messages to the appropriate agent model.<br>
<br>
<span style="font-weight: bold;"></span><span style="font-style: italic;">Relationship Between the
Distributed Agent Model and the Simulation Agent</span><br>
We can think of these two entities as jointly composing the <span style="font-style: italic;">agent</span>
in an ABM.
&nbsp;In a Common Simulation Framework simulation, the simulation
agent is dependent on its corresponding distributed agent model for the
decision making part of its behavior. &nbsp;The distributed autononmous
agent model is dependent on its corresponding simulation agent to
retrieve the local environment information from the simulation runtime, and to interact with other
entities in the simulation runtime. Therefore,&nbsp;the
simulation agent and the distributed autonomous agent model on their
own form an incomplete ABM agent in CSF simulations. &nbsp;On the
other hand, in a non-CSF simulation, the simulation agent contains all
information in the model and is therefore a complete ABM agent.<br>
<br>
For a more thorough discussion of these concepts and the theoretical
basis of the Common Simulation Framework, please see the master's
thesis proposal here.<br>
<br><span style="font-weight: bold;">If you have any better
suggestions for the terminology, please by all means, contact us at j c
ald1 at..gmail.<br><br></span><h2>Redis - The Common Interface and XML - The Platform Independent Data Format for Message Exchange</h2>One
of the key benefits of the Common Simulation Framework over other
previously created agent-based systems integration efforts is that a
common platform-independent interface has been created. &nbsp;Instead
of having the various agent-based systems communicate directly with
each other, instead they must all communicate to the common interface.
&nbsp;This sets the stage for greater interoperability in the future.
For example, it would it theory be possible to run multiple MASs at the
same time communicating with an ABM toolkit. &nbsp;In addition, it
would be possible to swap out one ABM toolkit for another.<br><br>Currently,
only one interface option has been inplemented. &nbsp;It is the Redis
in-memory database, which allows storage of key-value pairs and lists.
&nbsp;XML is used to encode and transmit data between the distributed
systems and the simulation runtime. &nbsp;We therefore avoid use of
direct Java references. &nbsp;This has a few benefits. &nbsp;First,
simulation authors are able to protect the integrity of the simulation
runtime in a competitive simulation or programming game. &nbsp;<span style="font-style: italic;">The view of the global environment is programmatically hidden from the distributed agents.</span> &nbsp;<span style="font-style: italic;"> </span>ABM
tools are not typically written with this requirement in mind.
&nbsp;Simulation authors must programmtically limit the view of the
global environment within each agent. &nbsp;But what happens in a game
theory competition where the agent authors have an incentive to use as
much information as possible? &nbsp;In the CSF, by creating a barrier
between the distributed agents and the simulation runtime, simulation
authors are able to easily create a level playing field in a
competitive simulation such as a game theory competitions for all
(distributed) agent authors.<br><br><h2>Limitations and Recommendations in the Current Release</h2><ol><li>A
single distributed autonomous agent/JADE agent may only contain a
single agent model, which corresponds to a single Repast agent.</li><li>There can only be a single distributed system/MAS connected to the framework at any given time for any given simulation run.</li><li>All
JADE agents must reside on a single JADE platform. &nbsp;This doesn't
mean that all agents must be on the same host. &nbsp;The framework
currently uses local JADE names for agent addressing and that is the reason for the JADE Platform limitation.</li><li>The JADE
Contorller agent must be running on the same host as the Repast
Simphony runtime. &nbsp;This is because the two sides share information
over a Redis in-memory database. &nbsp;Future releases may include
other interfaces such as web services, which would allow easing of this
restriction.</li><li>If the JADE agents are to be run in either
separate processes or separate hosts from the JADE Controller Agent,
The JADE Controller Agent must have permission to accept TCP
connections from wherever the distributed JADE agents are running,
typically on port 1099 although that value can be changed. &nbsp;The
JADE Controller Agent must also be able to establish TCP connections to
each of the distributed JADE agents. &nbsp;The security restrictions
will vary widely but in one campus settings, it was found that the JADE
agents could communicate with each other when the students
ran&nbsp;their agents on their laptops while on the secure campus
wireless network, instead of while on the insecure or visitor campus
network. &nbsp;The agents were also able to communicate with each other
when being run on different computers in the same computer lab. &nbsp;Finally,
when running the agents on shared student Linux servers, the agents
could communicate with each other only if the students first SSHed to
the same Linux host. &nbsp;Of course this is not guaranteed to be the
case for all environemnts, but the scenarios above may provide the
reader with some options. &nbsp;One note on running the JADE agents on
shared Linux hosts, if each student runs his/her agent under his/her
own account, a new JVM/JADE container will be created and the server
may quickly run out of memory. &nbsp;It may be best for one person such
as the professor or TF to run all of the agents under a single
container, when using the option of running the agents on a shared
server. &nbsp;The JADE documentation contains some information on
networking issues.</li><li>The
Common Simulation Framework currently
only works while running the Repast simulation programmatically, using
a version of TestMain as
described in the Repast FAQ. &nbsp;We call this application the Repast
Simulation Runner. &nbsp;Because the simulation is run
programmatically, a GUI will not be
displayed.&nbsp; &nbsp;The
simulation author should set up a data sink file to retrieve the
results of the simulation runs. &nbsp;The sample CSF Repast Simphony
simulations already have the data sink files set up. &nbsp;The
ModelOutput files will be written to the Repast Simulation Runner
directory, unlike when the simulations are run with the GUI, in which
case the ModelOutput files are written to the Repast Simphony
simulation project directory. &nbsp;The
same Repast simulation, if it not using the
tournament feature of the framework, can be run as a regular Repast GUI
simulation, assuming the Repast simulation code is set up to skip the
common simulation framework functionality in the event that the
simulation is not being run programmatically. &nbsp;This is set up in
the non-tournament simulations. &nbsp;This limitation may be lifted in
the future.</li><li>Either all JADE agents must correspond to a single Repast class, or each JADE agent must correspond to a different Repast class.</li><li>Multithreading
of the Common Simulation Framework is not supported. &nbsp;However,
support for concurrent executions of the Common Simulatoin Framework as
separate processes using the same Redis cache will be supported in the
future.</li><li>The
number of &nbsp;JADE agents that need matching representations in
Repast is fixed. &nbsp;No such agents can be added during the
simulation run. &nbsp;This does not apply to Repast agents that do not
have matching&nbsp;JADE agents or JADE agents with no representations
in Repast.</li><li>The Common Simulation Framework Repast Simulation
Runner uses a single thread to execute the simulations. &nbsp;Messages
are pulled from the Redis cache using quick polling. &nbsp;Future
releases may add an administrative thread per Redis key/channel so that
true event-driven messaging can take place on the simulation side.</li><li>No assurances are made about the use of the Common Simulation Framework with JADE LEAP. </li><li>Limited
error checking is provided by the framework. &nbsp;It is suggested that
the Repast Simulation Runner and JADE Controller Agents be run with
assertions on. &nbsp;Assertions have been added in a few places in the
code as placeholders for better validation and error handling.
&nbsp;These processes should be run with the "-ea" VM argument set to
enable assertion checking, especially during the testing phase.
&nbsp;All of the launchers in the CSF simulations have this options set
by default.</li><li>The JADE Controller agent should be run either in
the same JADE Container as the other JADE agents, or it should be run first.</li><li>The JADE Controller agent should run on in the main JADE container.</li><li>Limitations to be removed shortly post March 2015:</li><ol><li>The number of &nbsp;corresponding JADE and Repast agents is fixed at 6 for JZombies and 8 for the Prisoner's Dilemma Tournament.</li><li>Only the JZombies and Prisoner's Dilemma simulations are supported.</li></ol></ol><h1>Important Information for Simulation Authors (Developers)</h1>The
Common Simulation Framework uses a default namespace (namespace at the
root element with no namespace qualifier/prefix) in the message
exchange document. &nbsp; The root element is&nbsp;CsfMessageExchange.
&nbsp;The value of the default namespace is currently:&nbsp;
http://www.simulationsystems.org/csf/schemas/CsfMessageExchange/0.1.0
as specified in the xmlns attribute in the root element. &nbsp;Most
elements, including the root element, do not have a namespace prefix
(such as "csf:"). &nbsp;CSF uses XPath to query the XML messages,
however, XPath has no support for default namespaces. &nbsp;Therefore,
CSF programmatically adds a "x:" qualifier before <span style="text-decoration: underline;">querying </span>and
all queries into the XML must contain the "x:" namespace qualifier.
&nbsp;This becomes important when creating methods to query or
populate&nbsp;simulation-specific elements. &nbsp;If you follow the
sample simulations examples, there should not be a problem. <br>While most elements do not have a namespace qualifier, at times, when CSF <span style="text-decoration: underline;">populates </span>sections
of the XML, it does add an "x:" qualifier and repeats the default
namespace. &nbsp;While this is unecessary in XML, semantically this is
equivalent to leaving off the qualifier and namespace attribute, as all
elements already belong to the default namespace by default.
&nbsp;Again, if you follow the examples in the sample simulations, you
should be fine. &nbsp;If you choose to use your own parsing library,
make sure your library is set to be namespace-aware. &nbsp;CSF uses
JDOM 2 for XML creation and parsing.</body></html>