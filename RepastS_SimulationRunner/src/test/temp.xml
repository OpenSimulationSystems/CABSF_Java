<CsfMessageExchange xmlns="http://www.simulationsystems.org/csf/schemas/CsfMessageExchange/0.1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Identifiers>
    <Simulation>
      <!-- Required by CSF, but optional in the configuration -->
      <SimulationID />
      <!-- Optional -->
      <SimulationVersionID />
      <!-- Optional -->
      <SimulationSpecificationConfigurationID />
    </Simulation>
    <CommonSimulationFramework>
      <!-- Required by CSF, but optional in the configuration -->
      <SimulationRunGroupId />
      <!--THIS ELEMENT IS ALWAYS GLOBALLY UNIQUE (GENERATED BY CSF), FOR A SIMULATION 
				RUN GROUP. THIS PLUS THE SIMULATION RUN ID IS GUARANTEED TO BE GLOBALLY UNIQUE 
				FOR A ANY GIVEN SIMULATION RUN INSTANCE -->
      <SimulationRunGroupInstanceId />
      <!-- Required by CSF, but optional in the configuration -->
      <SimulationRunId />
      <!-- Optional -->
      <UserDefinedConfigurations />
    </CommonSimulationFramework>
  </Identifiers>
  <Status />
  <SendingEntity>
    <Name>RepastSimulationWrapper</Name>
    <ID />
  </SendingEntity>
  <ReceivingEntities>
    <SimulationSystem>
      <ControlMessages>
        <!-- START_SIMULATION or END_SIMULATION -->
        <Command />
      </ControlMessages>
    </SimulationSystem>
    <!-- Only one distributed system in a message exchange. Each distributed 
			system may have its own interface -->
    <!-- If not for simulation runtime, bound for distributed system(s) -->
    <DistributedSystem>
      <!-- To this one Distributed System -->
      <Name />
      <ID />
      <DistributedAutonomousAgents>
        <DistributedAutonomousAgent>
          <Name />
          <ID>distAutAgent1</ID>
          <AgentModels>
            <AllAgentModels>
              <!-- To all Agent Models in this Distributed System -->
              <ControlMessages>
                <!-- START_SIMULATION or END_SIMULATION -->
                <Command />
              </ControlMessages>
            </AllAgentModels>
            <!-- Message submitted to this one agent model in the parent distributed 
							autonomous agent -->
            <x:AgentModel xmlns:x="http://www.simulationsystems.org/csf/schemas/CsfMessageExchange/0.1.0">
              <Actor>
                <!-- RE: Self or another agent model -->
                <ID>distAutAgentMode1</ID>
                <!-- EnvironmentChanges Could be used to communicate all local environment 
									information if desired, not just changes since the last tick -->
                <EnvironmentChanges>
                  <CommonEnvironmentChanges>
                    <EnvironmentChange id="">
                      <!-- self = the actor above. Initial location or change -->
                      <Location id="self">
                        <GridPointX>1</GridPointX>
                        <GridPointY>2</GridPointY>
                        <GridPointZ />
                      </Location>
                    </EnvironmentChange>
                  </CommonEnvironmentChanges>
                  <SimulationDefinedEnvironmentChanges>
                    <!-- EnvironmentChange elements. key/value pair child elements 
											of EnvironmentChange suggested, format is open -->
                    <EnvironmentChange id="">
                      <!-- self = the actor above. Initial location or change -->
                      <Location id="self" category="neighborhood" includecenter="true" entitytype="Zombie">
                        <GridPointX>3</GridPointX>
                        <GridPointY>4</GridPointY>
                        <GridPointZ />
                      </Location>
                    </EnvironmentChange>
                  </SimulationDefinedEnvironmentChanges>
                </EnvironmentChanges>
                <MessageExchange>
                  <CommonMessages>
                    <!-- To this agent model, regarding actor above -->
                    <Message>
                      <From />
                      <!-- key/value pair here -->
                    </Message>
                  </CommonMessages>
                  <SimulationDefinedMessages>
                    <Message>
                      <!-- key/value pair suggested, format is open -->
                    </Message>
                  </SimulationDefinedMessages>
                </MessageExchange>
                <!-- These are changes in state that are not observable by other 
									agents. Only for use by this agent or to populate the global environment 
									for the simulation administrator. Prefer use of EnvironmentChanges over StateChanges 
									for changes that are at least in theory observable by other agents/agent 
									models in the simulation model. -->
                <InternalStateChanges>
                  <CommonInternalStateChanges>
                    <InternalStateChange>
                      <!-- Key value pair -->
                    </InternalStateChange>
                    <InternalStateUpdate />
                  </CommonInternalStateChanges>
                  <!-- User/simulation defined common states -->
                  <!-- Children may contain any format -->
                  <SimulationDefinedInternalStateChanges>
                    <InternalStateChange>
                      <!-- key/value pair suggested, format is open -->
                    </InternalStateChange>
                  </SimulationDefinedInternalStateChanges>
                </InternalStateChanges>
              </Actor>
            </x:AgentModel>
          </AgentModels>
        </DistributedAutonomousAgent>
        <DistributedAutonomousAgent>
          <Name />
          <ID>distAutAgent2</ID>
          <AgentModels>
            <AllAgentModels>
              <!-- To all Agent Models in this Distributed System -->
              <ControlMessages>
                <!-- START_SIMULATION or END_SIMULATION -->
                <Command />
              </ControlMessages>
            </AllAgentModels>
            <!-- Message submitted to this one agent model in the parent distributed 
							autonomous agent -->
            <x:AgentModel xmlns:x="http://www.simulationsystems.org/csf/schemas/CsfMessageExchange/0.1.0">
              <Actor>
                <!-- RE: Self or another agent model -->
                <ID>distAutAgentMode2</ID>
                <!-- EnvironmentChanges Could be used to communicate all local environment 
									information if desired, not just changes since the last tick -->
                <EnvironmentChanges>
                  <CommonEnvironmentChanges>
                    <EnvironmentChange id="">
                      <!-- self = the actor above. Initial location or change -->
                      <Location id="self">
                        <GridPointX>5</GridPointX>
                        <GridPointY>6</GridPointY>
                        <GridPointZ />
                      </Location>
                    </EnvironmentChange>
                  </CommonEnvironmentChanges>
                  <SimulationDefinedEnvironmentChanges>
                    <!-- EnvironmentChange elements. key/value pair child elements 
											of EnvironmentChange suggested, format is open -->
                    <EnvironmentChange id="">
                      <!-- self = the actor above. Initial location or change -->
                      <Location id="self" category="neighborhood" includecenter="true" entitytype="Zombie">
                        <GridPointX>7</GridPointX>
                        <GridPointY>8</GridPointY>
                        <GridPointZ />
                      </Location>
                    </EnvironmentChange>
                  </SimulationDefinedEnvironmentChanges>
                </EnvironmentChanges>
                <MessageExchange>
                  <CommonMessages>
                    <!-- To this agent model, regarding actor above -->
                    <Message>
                      <From />
                      <!-- key/value pair here -->
                    </Message>
                  </CommonMessages>
                  <SimulationDefinedMessages>
                    <Message>
                      <!-- key/value pair suggested, format is open -->
                    </Message>
                  </SimulationDefinedMessages>
                </MessageExchange>
                <!-- These are changes in state that are not observable by other 
									agents. Only for use by this agent or to populate the global environment 
									for the simulation administrator. Prefer use of EnvironmentChanges over StateChanges 
									for changes that are at least in theory observable by other agents/agent 
									models in the simulation model. -->
                <InternalStateChanges>
                  <CommonInternalStateChanges>
                    <InternalStateChange>
                      <!-- Key value pair -->
                    </InternalStateChange>
                    <InternalStateUpdate />
                  </CommonInternalStateChanges>
                  <!-- User/simulation defined common states -->
                  <!-- Children may contain any format -->
                  <SimulationDefinedInternalStateChanges>
                    <InternalStateChange>
                      <!-- key/value pair suggested, format is open -->
                    </InternalStateChange>
                  </SimulationDefinedInternalStateChanges>
                </InternalStateChanges>
              </Actor>
            </x:AgentModel>
          </AgentModels>
        </DistributedAutonomousAgent>
      </DistributedAutonomousAgents>
    </DistributedSystem>
  </ReceivingEntities>
</CsfMessageExchange>
